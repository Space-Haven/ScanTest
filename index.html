<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scan & Submit</title>
    <script src="https://unpkg.com/onscan.js/onscan.min.js"></script>
</head>
<body>

    <form id="scan-form" action="" method="POST">
        <label for="barcode">Scanned Code:</label>
        <input type="text" id="barcode" name="barcode" required>
        <button type="submit">Submit</button>
    </form>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            onScan.attachTo(document, {
                onScan: function (scannedData) {
                    let inputField = document.getElementById("barcode");
                    inputField.value = scannedData;
                    
                    // Auto-submit the form
                    document.getElementById("scan-form").submit();
		    alert(document.getElementById('barcode').value);
                },
                onScanError: function (error) {
                    console.error("Scan error:", error);
                },
                minLength: 8,  // Minimum barcode length
                //reactToKeydown: false, // No Keydown Events
		//reactToPaste: true, // ReactToPasted Content As Well As Scan
                //timeBeforeScanTest: 200,  // Time before considering input as barcode
                keyCodeReducer: function (keyCode) {
                    return String.fromCharCode(keyCode); // Converts keyCode to character
                }
            });
        });
    </script>

</body>
</html>
